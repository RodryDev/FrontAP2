{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/servicios/login.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@ng-bootstrap/ng-bootstrap\";\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(loginServ, router, rout, formBuilder, modal) {\n      this.loginServ = loginServ;\n      this.router = router;\n      this.rout = rout;\n      this.formBuilder = formBuilder;\n      this.modal = modal;\n      this.accion = \"salir\"; //variables que van a hacer 1 a 1 con los inputs del login\n\n      this.email = \"\";\n      this.password = \"\";\n      this.loginerror = \"\";\n      this.form = this.formBuilder.group({\n        email: ['', [Validators.required]],\n        password: ['', [Validators.required, Validators.minLength(8)]]\n      });\n    }\n\n    login() {\n      console.log(this.email);\n      console.log(this.password);\n      const user = {\n        email: this.email,\n        password: this.password\n      };\n      this.loginServ.login(user).subscribe(data => {\n        console.log(data);\n        if (data == null) this.loginerror = \"Error!!\";else {\n          this.loginerror = \"\";\n          this.loginServ.setToken(data.id); //me redirecciona al header\n          // this.router.navigate(['header'])\n        }\n      });\n    }\n\n    ngOnInit() {}\n\n    get Username() {\n      return this.form.get('email');\n    }\n\n    get Password() {\n      return this.form.get('password');\n    }\n\n  }\n\n  LoginComponent.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.LoginService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i4.NgbModal));\n  };\n\n  LoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 20,\n    vars: 4,\n    consts: [[1, \"text-center\", \"text-lg-start\"], [1, \"m-5\"], [1, \"card\", \"mb-3\"], [1, \"row\", \"g-0\", \"d-flex\", \"align-items-center\"], [1, \"col-lg-8\"], [1, \"card-body\", \"py-5\", \"px-md-5\"], [3, \"formGroup\"], [1, \"form-outline\", \"mb-4\"], [\"formControlName\", \"email\", \"type\", \"email\", \"id\", \"form2Example1\", \"name\", \" \", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"form2Example1\", 1, \"form-label\"], [\"formControlName\", \"password\", \"type\", \"password\", \"id\", \"form2Example2\", \"name\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"form2Example2\", 1, \"form-label\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-block\", \"mb-4\", 3, \"click\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0)(1, \"h1\", 1);\n        i0.ɵɵtext(2, \"Iniciar Sesion\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4)(6, \"div\", 5)(7, \"form\", 6)(8, \"div\", 7)(9, \"input\", 8);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_9_listener($event) {\n          return ctx.email = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"label\", 9);\n        i0.ɵɵtext(11, \"Email\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\", 7)(13, \"input\", 10);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_13_listener($event) {\n          return ctx.password = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"label\", 11);\n        i0.ɵɵtext(15, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(16, \"br\");\n        i0.ɵɵtext(17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"button\", 12);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_18_listener() {\n          return ctx.login();\n        });\n        i0.ɵɵtext(19, \"Enviar\");\n        i0.ɵɵelementEnd()()()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.email);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.password);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", ctx.loginerror, \" \");\n      }\n    },\n    directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i3.FormGroupDirective, i3.DefaultValueAccessor, i3.NgControlStatus, i3.FormControlName],\n    styles: [\".rounded-t-5[_ngcontent-%COMP%]{border-top-left-radius:.5rem;border-top-right-radius:.5rem}@media (min-width: 992px){.rounded-tr-lg-0[_ngcontent-%COMP%]{border-top-right-radius:0}.rounded-bl-lg-5[_ngcontent-%COMP%]{border-bottom-left-radius:.5rem}}\"]\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}